{# import all variables from a central location -#}
{% import "consul/variables.jinja" as vars -%}
{
  "datacenter": "{{vars.consul_datacenter}}",
  "data_dir": "{{vars.consul_data}}",
  "log_level": "{{vars.consul_loglevel}}",
  "enable_syslog": {{ 'true,' if vars.consul_enable_syslog else 'false,' }}
  "node_name": "{{vars.consul_nodename}}",
  "server": {{ 'true,' if vars.consul_isserver else 'false,' }}
  "ui": {{ 'true,' if vars.consul_showsui else 'false,' }}
  "advertise_addr": "{{vars.consul_advertise_ip}}",
  {% if vars.consul_isserver -%}
  "bootstrap_expect": {{vars.consul_bootstrap_expect|int}},
  {% endif -%}
  "ports": {
    "dns": {{vars.consul_port_dns|int}},
    "http": {{vars.consul_port_http|int}},
    "https": {{vars.consul_port_https|int}},
    "rpc": {{vars.consul_port_rpc|int}},
    "serf_lan": {{vars.consul_port_serf_lan|int}},
    "serf_wan": {{vars.consul_port_serf_wan|int}},
    "server": {{vars.consul_port_server|int}}
  }
}
